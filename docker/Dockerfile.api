# Node.js API Dockerfile

FROM node:20-alpine

WORKDIR /app

# Install dependencies
COPY package*.json ./
RUN npm install && npm install tsx

# Copy API source
COPY api/ ./api/
COPY .env.local ./.env.local

EXPOSE 3001

# Start API (using tsx bin to run TypeScript directly)
CMD ["node_modules/.bin/tsx", "api/server.ts"]
